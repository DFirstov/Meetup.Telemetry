version: "3.3"

services:
  shop:
    image: shop:add-metrics
    container_name: shop
    build:
      dockerfile: Shop/Dockerfile
    ports:
      - "8180:8080"

  stock:
    image: stock:add-metrics
    container_name: stock
    build:
      dockerfile: Stock/Dockerfile
    ports:
      - "8280:8080"

  payments:
    image: payments:add-metrics
    container_name: payments
    build:
      dockerfile: Payments/Dockerfile
    ports:
      - "8380:8080"

  load-test:
    container_name: load-test
    build:
      dockerfile: LoadTest/Dockerfile

  seq:
    image: datalust/seq:latest
    container_name: seq
    environment:
      - ACCEPT_EULA=Y
    ports:
      - "5341:80"
