version: "3.3"

services:
  shop:
    image: shop:add-scrapper
    container_name: shop
    build:
      dockerfile: Shop/Dockerfile
    ports:
      - "8180:8080"

  stock:
    image: stock:add-scrapper
    container_name: stock
    build:
      dockerfile: Stock/Dockerfile
    ports:
      - "8280:8080"

  payments:
    image: payments:add-scrapper
    container_name: payments
    build:
      dockerfile: Payments/Dockerfile
    ports:
      - "8380:8080"

  load-test:
    container_name: load-test
    build:
      dockerfile: LoadTest/Dockerfile

  seq:
    image: datalust/seq:latest
    container_name: seq
    environment:
      - ACCEPT_EULA=Y
    ports:
      - "5341:80"

  prometheus:
    image: prom/prometheus:latest
    container_name: prometheus
    volumes:
      - ./prometheus.yml:/etc/prometheus/prometheus.yml
    ports:
      - "9090:9090"
